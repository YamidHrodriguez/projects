<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presupuestos</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <header>
        <h1>PresupuesApp</h1>
    </header>
    <div id="container" class="container">
        <main class="main" id="main">
            <div class="menu" id="menu">
                <h2>PresupuesApp</h2>
                <p>PresupuesApp es una app para hacer presupuestos.</p>
                <button id="income">Ingresos</button>
                <button id="egress">Egresos</button>
                <button id="debt">Pagos</button>
                <button id="buy">Compras</button>
                <button id="report">Informe</button>
            </div>
        </main>
        <section id="income-section" class="income-section">
            <div class="title">
                <h2>Ingresos</h2>
            </div>
            <div class="content" id="income-content">

            </div>
        </section>
        <section id="egress-section" class="egress-section">
            <div class="title">
                <h2>Egresos</h2>
            </div>
            <div class="content" id="egress-content">

            </div>
        </section>
         <section id="debt-section" class="debt-section">
            <div class="title">
                <h2>Pagos a realizar</h2>
                <div class="content" id="debt-content">

                </div>
            </div>
        </section>
        <section id="buy-section" class="buy-section">
            <div class="title">
                <h2>Compras por hacer</h2>
                <div class="content" id="buy-content">

                </div>
            </div>
        </section>
    </div>
    <script src="./js/script.js"></script>
    <script>
        // Agregar event listeners para los botones
        document.getElementById('income').addEventListener('click', function() {
            obtenerDatos('/obtener-ingresos', 'income-content');
        });

        document.getElementById('egress').addEventListener('click', function() {
            obtenerDatos('/obtener-egresos', 'egress-content');
        });

        document.getElementById('debt').addEventListener('click', function() {
            obtenerDatos('/obtener-pagos', 'debt-content');
        });

        document.getElementById('buy').addEventListener('click', function() {
            obtenerDatos('/obtener-compras', 'buy-content');
        });

        function obtenerDatos(url, sectionId) {
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const section = document.getElementById(sectionId);
                    section.innerHTML = '';

                    // Iterar sobre los datos y agregarlos a la secciÃ³n correspondiente
                    data.forEach(item => {
                        const newItem = document.createElement('div');
                        newItem.textContent = `${item.description || 'No description'}: $${item.amount || '0'} - ${item.date || 'No date'}`;
                        section.appendChild(newItem);
                    });
                })
                .catch(error => console.error('Error al obtener datos:', error));
        }
    </script>
</body>
</html>